(function(e){var t={defaults:{settings:{},offset:100,buffer:25,linkSelector:"a[href^='#']",boundEvent:"click.targetLinkOffset",animate:false,animationSpeed:800},goToHash:function(n,r){if(n!=="#"){var i=e(n),s=Math.floor(i.offset().top-(t.settings.offset+t.settings.buffer));if(!r){if(history.pushState){history.pushState(null,null,n)}else{location.hash=n}}if(t.settings.animate){e("html, body").animate({scrollTop:s},t.settings.animationSpeed)}else{e(document,"body").scrollTop(s)}}},init:function(){e(t.settings.linkSelector).on(t.settings.boundEvent,function(n){var r=e(this).attr("href");if(r!=="#"){t.goToHash(r);n.preventDefault()}});if(document.location.hash){t.goToHash(document.location.hash,true)}e(window).bind("hashchange",function(){var e="#"+window.location.hash.replace(/^#/,"");t.goToHash(e,true)})}};e.extend({targetLinkOffset:function(n){t.settings=e.extend(t.defaults,n);t.init()}})})(jQuery)